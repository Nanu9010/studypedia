<!-- notes/templates/notes/note_list.html -->
{% extends 'base.html' %}

{% block content %}
<div class="container">
  <h1>Notes</h1>

  {% if messages %}
  <div class="messages">
    {% for message in messages %}
      <div class="message {{ message.tags }}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}

  {% if user.is_staff %}
    <a href="{% url 'notes:note_create' %}" class="btn btn-primary">Create Note</a>
  {% endif %}

  <div class="grid grid-3">
    {% for note in notes %}
      <div class="card">
        <h3>{{ note.name }} - {{ note.code }}</h3>
        <p><strong>Price:</strong> â‚¹{{ note.price }}</p>
        <p><strong>Credits:</strong> {{ note.credit_price }}</p>
        <p><strong>Active:</strong> {{ note.is_active|yesno:"Yes,No" }}</p>
<!--        <p><strong>File:</strong> <a href="{{ note.pdf_file.url }}" target="_blank">{{ note.pdf_file.name }}</a></p>-->
        <a href="{% url 'ecommerce:add_to_cart' note.pk %}?type=note" class="btn btn-primary">Add to Cart</a>
        {% if user.is_staff %}
          <a href="{% url 'notes:note_update' note.pk %}" class="btn btn-primary">Edit</a>
          <a href="{% url 'notes:note_delete' note.pk %}" class="btn btn-secondary" onclick="return confirm('Are you sure you want to delete this note?');">Delete</a>
        {% endif %}
      </div>
    {% empty %}
      <p>No notes found.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
